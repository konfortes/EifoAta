{"filter":false,"title":"ChatController.js","tooltip":"/public/js/controllers/ChatController.js","undoManager":{"mark":2,"position":2,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":116,"column":0},"end":{"row":116,"column":3}},"text":"}*/"},{"action":"removeLines","range":{"start":{"row":34,"column":0},"end":{"row":116,"column":0}},"nl":"\n","lines":["      $scope.connectedUsers.push(userName);","      $scope.messages.push({","        text: userName + ' has just connected to chat'","      });","    });","","    Sockets.on('user disconnected', function(userName) {","      var i, user;","      for (i = 0; i < $scope.connectedUsers.length; i++) {","        user = $scope.connectedUsers[i];","        if (user.userName === userName) {","          $scope.connectedUsers.splice(i, 1);","          break;","        }","      }","      $scope.messages.push({","        text: userName + ' has just disconnected from chat'","      });","    });*/","","/*function AppCtrl($scope, socket) {","","  // Socket listeners","  // ================","","  socket.on('init', function (data) {","    $scope.name = data.name;","    $scope.users = data.users;","  });","","  socket.on('send:message', function (message) {","    $scope.messages.push(message);","  });","","  socket.on('user:join', function (data) {","    $scope.messages.push({","      user: 'chatroom',","      text: 'User ' + data.name + ' has joined.'","    });","    $scope.users.push(data.name);","  });","","  // add a message to the conversation when a user disconnects or leaves the room","  socket.on('user:left', function (data) {","    $scope.messages.push({","      user: 'chatroom',","      text: 'User ' + data.name + ' has left.'","    });","    var i, user;","    for (i = 0; i < $scope.users.length; i++) {","      user = $scope.users[i];","      if (user === data.name) {","        $scope.users.splice(i, 1);","        break;","      }","    }","  });","","  // Private helpers","  // ===============","","","","  // Methods published to the scope","  // ==============================","","  $scope.messages = [];","","  $scope.sendMessage = function () {","    socket.emit('send:message', {","      message: $scope.message","    });","","    // add the message to our model locally","    $scope.messages.push({","      user: $scope.name,","      text: $scope.message","    });","","    // clear message box","    $scope.message = '';","  };"]},{"action":"removeText","range":{"start":{"row":33,"column":1},"end":{"row":33,"column":53}},"text":" /*Sockets.on('user connected', function(userName) {"},{"action":"removeText","range":{"start":{"row":33,"column":1},"end":{"row":34,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":0},"end":{"row":18,"column":9}},"text":"    });*/"},{"action":"removeLines","range":{"start":{"row":10,"column":0},"end":{"row":18,"column":0}},"nl":"\n","lines":["","    ","/*    $scope.$on('message', function(event, msg) {","      if (!$scope.$$phase) {","        $scope.$apply(function() {","          $scope.messages.push(msg);","        });","      }"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":1}},"text":" "},{"action":"removeLines","range":{"start":{"row":23,"column":0},"end":{"row":25,"column":0}},"nl":"\n","lines":["",""]},{"action":"removeText","range":{"start":{"row":22,"column":5},"end":{"row":23,"column":0}},"text":"\n"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":22,"column":5},"end":{"row":22,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1409227590382,"hash":"c095e0e7df06755885594305f0b6791ee38ed399"}